$(function(){"use strict";function i(i){a.emit("formSubmission",i),n()}function n(){s.html(d()),console.log("instance is initializing")}function t(i){s.html(f(i)),$("#stopServer").on("click",function(){var i=$(this).attr("data-id");a.emit("stopInstance",{instanceId:i})}),console.log("instance is running")}function e(){s.html(g()),console.log("instance has been terminated for good.....")}var a=io.connect("http://localhost");a.on("news",function(i){console.log(i)}),a.on("state",function(i){console.log("State data:",i),"running"===i.state?("ok"===i.availibility&&t(i),"initializing"===i.availibility&&console.log("still initializing...")):"terminated"===i.state?e():"pending"===i.state});var o=null,l=null,s=$("#container"),c=$("#initialForm").html(),r=$("#serverInitializing").html(),m=$("#serverReady").html(),h=$("#serverStopped").html(),u=Handlebars.compile(c),d=Handlebars.compile(r),f=Handlebars.compile(m),g=Handlebars.compile(h);s.html(u()),o=$("#createAMI"),l=$("form"),o.on("click",function(n){n.preventDefault();var t=l.serializeObject();console.log("Credentials object",t),i(t)}),$.fn.serializeObject=function(){var i={},n=this.serializeArray();return $.each(n,function(){void 0!==i[this.name]?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i}});